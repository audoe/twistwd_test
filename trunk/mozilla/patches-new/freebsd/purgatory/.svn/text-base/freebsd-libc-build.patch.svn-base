Index: js/jsd/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/js/jsd/Makefile.in,v
retrieving revision 1.26
diff -u -r1.26 Makefile.in
--- js/jsd/Makefile.in	5 Apr 2005 18:26:06 -0000	1.26
+++ js/jsd/Makefile.in	10 Nov 2006 01:40:41 -0000
@@ -73,6 +73,10 @@
 		$(NULL)
 EXPORTS		= jsdebug.h
 
+ifeq ($(OS_ARCH),FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
+
 ifdef JS_THREADSAFE
 DEFINES         += -DJS_THREADSAFE
 endif
Index: js/src/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/js/src/Makefile.in,v
retrieving revision 3.95.4.5
diff -u -r3.95.4.5 Makefile.in
--- js/src/Makefile.in	27 Jul 2006 22:56:20 -0000	3.95.4.5
+++ js/src/Makefile.in	10 Nov 2006 01:41:09 -0000
@@ -260,7 +260,7 @@
 endif # WINNT
 
 ifeq ($(OS_ARCH),FreeBSD)
-LDFLAGS		+= -pthread
+LDFLAGS		+= -pthread -lc
 endif
 ifeq ($(OS_ARCH),IRIX)
 ifdef USE_N32
Index: xpcom/build/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/xpcom/build/Makefile.in,v
retrieving revision 1.90.2.2
diff -u -r1.90.2.2 Makefile.in
--- xpcom/build/Makefile.in	29 Jan 2006 16:51:02 -0000	1.90.2.2
+++ xpcom/build/Makefile.in	10 Nov 2006 01:06:16 -0000
@@ -177,6 +177,10 @@
 EXTRA_DSO_LDOPTS += -lbe
 endif
 
+ifeq ($(OS_ARCH),FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
+
 ifeq ($(OS_ARCH),WINNT)
 EXTRA_DSO_LDOPTS += $(call EXPAND_LIBNAME,shell32 ole32 uuid version)
 ifneq (,$(MOZ_DEBUG)$(NS_TRACE_MALLOC))
Index: xpcom/obsolete/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/xpcom/obsolete/Makefile.in,v
retrieving revision 1.17
diff -u -r1.17 Makefile.in
--- xpcom/obsolete/Makefile.in	30 Jan 2005 21:33:45 -0000	1.17
+++ xpcom/obsolete/Makefile.in	10 Nov 2006 01:19:44 -0000
@@ -124,6 +124,10 @@
 EXTRA_DSO_LDOPTS += -lbe
 endif
 
+ifeq ($(OS_ARCH),FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
+
 ifeq ($(OS_ARCH),WINNT)
 EXTRA_DSO_LDOPTS += $(call EXPAND_LIBNAME, shell32 ole32)
 ifneq (,$(MOZ_DEBUG)$(NS_TRACE_MALLOC))
Index: modules/libpr0n/decoders/icon/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/modules/libpr0n/decoders/icon/Makefile.in,v
retrieving revision 1.17.8.6
diff -u -r1.17.8.6 Makefile.in
--- modules/libpr0n/decoders/icon/Makefile.in	30 May 2006 15:46:21 -0000	1.17.8.6
+++ modules/libpr0n/decoders/icon/Makefile.in	10 Nov 2006 02:20:12 -0000
@@ -135,3 +135,7 @@
 ifeq ($(OS_ARCH),Darwin)
 EXTRA_DSO_LDOPTS += $(TK_LIBS)
 endif
+
+ifeq ($(OS_ARCH),FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
Index: modules/plugin/samples/unixprinting/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/modules/plugin/samples/unixprinting/Makefile.in,v
retrieving revision 1.3
diff -u -r1.3 Makefile.in
--- modules/plugin/samples/unixprinting/Makefile.in	3 Feb 2005 23:01:49 -0000	1.3
+++ modules/plugin/samples/unixprinting/Makefile.in	10 Nov 2006 16:36:01 -0000
@@ -73,6 +73,10 @@
 
 EXTRA_DSO_LDOPTS += $(XLDFLAGS) $(XLIBS)
 
+ifeq ($(OS_ARCH), FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
+
 ifeq ($(OS_ARCH), OpenVMS)
 DEFINES		+= -DGENERIC_MOTIF_REDEFINES
 OS_CXXFLAGS	+= -Wc,warn=disa=NOSIMPINT
Index: modules/plugin/samples/default/unix/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/modules/plugin/samples/default/unix/Makefile.in,v
retrieving revision 1.32
diff -u -r1.32 Makefile.in
--- modules/plugin/samples/default/unix/Makefile.in	3 Feb 2005 23:01:48 -0000	1.32
+++ modules/plugin/samples/default/unix/Makefile.in	10 Nov 2006 16:47:59 -0000
@@ -83,6 +83,10 @@
 CFLAGS		+= $(MOZ_GTK2_CFLAGS)
 endif
 
+ifeq ($(OS_ARCH), FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
+
 ifeq ($(OS_ARCH), OpenVMS)
 DEFINES		+= -DGENERIC_MOTIF_REDEFINES
 OS_CXXFLAGS	+= -Wc,warn=disa=NOSIMPINT
Index: toolkit/mozapps/update/src/updater/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/toolkit/mozapps/update/src/updater/Makefile.in,v
retrieving revision 1.10.4.3
diff -u -r1.10.4.3 Makefile.in
--- toolkit/mozapps/update/src/updater/Makefile.in	15 Aug 2006 17:33:40 -0000	1.10.4.3
+++ toolkit/mozapps/update/src/updater/Makefile.in	10 Nov 2006 19:28:51 -0000
@@ -121,3 +121,8 @@
 # Pick up nsWindowsRestart.cpp
 LOCAL_INCLUDES += -I$(topsrcdir)/toolkit/xre
 endif
+
+ifeq ($(OS_ARCH), FreeBSD)
+LDFLAGS += -lpthread
+endif
+
Index: xpinstall/src/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/xpinstall/src/Makefile.in,v
retrieving revision 1.89
diff -u -r1.89 Makefile.in
--- xpinstall/src/Makefile.in	18 Mar 2005 21:24:03 -0000	1.89
+++ xpinstall/src/Makefile.in	10 Nov 2006 19:48:55 -0000
@@ -169,3 +169,7 @@
 ifeq ($(OS_ARCH)$(MOZ_ENABLE_LIBXUL),WINNT)
 DEFINES		+= -DZLIB_DLL
 endif
+
+ifeq ($(OS_ARCH),FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
Index: xpinstall/stub/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/xpinstall/stub/Makefile.in,v
retrieving revision 1.14
diff -u -r1.14 Makefile.in
--- xpinstall/stub/Makefile.in	5 Apr 2005 14:50:16 -0000	1.14
+++ xpinstall/stub/Makefile.in	10 Nov 2006 20:09:05 -0000
@@ -71,3 +71,7 @@
 
 include $(topsrcdir)/config/rules.mk
 
+ifeq ($(OS_ARCH),FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
+
Index: extensions/python/xpcom/src/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/extensions/python/xpcom/src/Makefile.in,v
retrieving revision 1.5.4.1
diff -u -r1.5.4.1 Makefile.in
--- extensions/python/xpcom/src/Makefile.in	31 Aug 2005 13:18:32 -0000	1.5.4.1
+++ extensions/python/xpcom/src/Makefile.in	10 Nov 2006 20:35:57 -0000
@@ -54,6 +54,7 @@
 MOZILLA_INTERNAL_API = 1
 FORCE_SHARED_LIB = 1 
 FORCE_USE_PIC = 1 
+# IS_COMPONENT = 1 will break the module on OS X, see EXTRA_DSO_LDOPTS below
 
 DLL_SUFFIX=$(PYTHON_DLL_SUFFIX)
 LOCAL_INCLUDES = $(PYTHON_INCLUDES)
@@ -87,9 +88,18 @@
 include $(topsrcdir)/config/config.mk
 include $(topsrcdir)/config/rules.mk
 
+ifeq ($(OS_ARCH),Darwin)
+# Don't use the EXTRA_DSO_LDOPTS from rules.mk, it breaks the python module
+EXTRA_DSO_LDOPTS = -bundle $(MOZ_COMPONENT_LIBS)
+else
 EXTRA_DSO_LDOPTS += $(MOZ_COMPONENT_LIBS)
+endif
 IMPORT_LIBRARY		:= $(SHARED_LIBRARY:.pyd=.lib)
 
+ifeq ($(OS_ARCH),FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
+
 # Install into our Python directory
 # default build installs into bin and lib - remove them
 libs::
Index: extensions/python/xpcom/src/loader/Makefile.in
===================================================================
RCS file: /cvsroot/mozilla/extensions/python/xpcom/src/loader/Makefile.in,v
retrieving revision 1.7
diff -u -r1.7 Makefile.in
--- extensions/python/xpcom/src/loader/Makefile.in	17 Jun 2005 21:03:43 -0000	1.7
+++ extensions/python/xpcom/src/loader/Makefile.in	10 Nov 2006 20:37:42 -0000
@@ -64,5 +64,9 @@
 CXXFLAGS += -DPYTHON_SO=\"libpython$(PYTHON_VER_DOTTED).so\"
 EXTRA_DSO_LDOPTS += $(MOZ_COMPONENT_LIBS)
 
+ifeq ($(OS_ARCH),FreeBSD)
+EXTRA_DSO_LDOPTS += -lc
+endif
+
 clobber::
 	rm -f *.ilk
