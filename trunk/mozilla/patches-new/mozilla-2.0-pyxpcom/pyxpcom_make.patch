# HG changeset patch
# Parent ca68733fe470bef8f6eb2af65b7a547f98fcf3ec
mac: _xpcom.so: link against xpcomglue_s.a like linux and windows

diff --git a/xpcom/src/module/Makefile.in b/xpcom/src/module/Makefile.in
--- a/xpcom/src/module/Makefile.in
+++ b/xpcom/src/module/Makefile.in
@@ -71,17 +71,9 @@ XPCOM_GLUE_LDOPTS=$(LIBXUL_DIST)/lib/$(L
 XPCOM_GLUE_LDOPTS+=$(XPCOM_FROZEN_LDOPTS)
 #endif
 
-ifeq ($(OS_ARCH),Darwin)
-# Don't use the EXTRA_DSO_LDOPTS from rules.mk, it breaks the python module
-  EXTRA_DSO_LDOPTS = -bundle $(XPCOM_GLUE_LDOPTS) \
-                     $(MOZ_COMPONENT_LIBS) \
-                     $(NULL)
-  
-else
-  EXTRA_DSO_LDOPTS += $(XPCOM_GLUE_LDOPTS) \
-                      $(MOZ_COMPONENT_LIBS) \
-                      $(NULL)
-endif
+EXTRA_DSO_LDOPTS += $(XPCOM_GLUE_LDOPTS) \
+                    $(MOZ_COMPONENT_LIBS) \
+                    $(NULL)
 IMPORT_LIBRARY		:= $(SHARED_LIBRARY:.pyd=.lib)
 
 # Install into our Python directory
